"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[852],{2636:function(e,a,t){t.d(a,{DY:function(){return n},HW:function(){return o},Lx:function(){return r},y4:function(){return d}});var s=t(94373);const l="http://localhost:2200/auth",i=s.A.create({baseURL:l,headers:{"Content-Type":"application/json"}});i.interceptors.request.use((e=>{const a=JSON.parse(localStorage.getItem("user")||"{}");return a&&a.token&&(e.headers.Authorization=`Bearer ${a.token}`),e}),(e=>Promise.reject(e)));const r=(e,a,t)=>i.post("/login",{email:e,password:a,role:t}).then((e=>(e.data.success&&localStorage.setItem("user",JSON.stringify(e.data.user)),e))),n=(e,a,t)=>i.post("/register",{email:e,password:a,role:t}),d=()=>{localStorage.removeItem("user")},o=()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null}},55852:function(e,a,t){t.r(a),t.d(a,{default:function(){return C}});var s=t(56768),l=t(24232),i=t(45130),r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAF8hJREFUeF7tnXmcHGWZx39P9SQbwGS6ekhmunoi09VBMFFcFRV0dSYKAqKsyCp4LKIRZEE8wBNFDMrCAquCnAIiooTDKCgreBJFFA9YNppIIF09IenqHEx3J5CQY7qepRPQiCT9Tncdb3U9/Q/kU8/5feo33XW9RZCPEBACuyRAwkYICIFdExCByN4hBHZDQAQiu4cQEIHIPiAE2iMg3yDtcROvhBAQgSRk0NJmewREIO1xE6+EEBCBJGTQ0mZ7BEQg7XETr4QQEIEkZNDSZnsERCDtcROvhBAQgSRk0NJmewREIO1xE6+EEBCBJGTQ0mZ7BEQg7XETr4QQEIEkZNDSZnsEYieQodrKkZRn9MOgfhD6GeiHhwEm7NUeAvFqlwARthJjDZjXeIax/b/wsGZLBr92ydrUblyd/LQXSGHtylk8yXgtGIeC6M0ApuoEUGrZBQHGT0C4kwj3FNPW/XHlpK1A7Nrq9xM3TmSig+IKV+reQYAIfwHTgs0bG5eXBwfH4sRFO4EUquXjmOgUAK+NE0ipVYEAURHMl3v1LZeP5vObFTwiN9FGIPlq+S0w6BRiHB45FSkgYAL8p6ZQnMzglQEn6ji8FgIp1CpnMficjruRALEiwMD1JdM6QeeiIxdIvl65iZiP1RmS1BYgAaI/Ttmamrt0xownAszSduhIBWJX3T+DMKft6sWxOwgwNhOMVxQzA3/WraHIBGLXXNYNhtQTMYGUt58zbfDhiKv4u/SRCMSuuT8FcIhOIKQWPQhMGp80bdn06Y/rUQ0QukDkgFyX0etZBwOLSqY1V5fqQhWIXXdPBuMKXZqXOnQlQJc5ZvZDOlQXmkCa1zmI6Ac6NC01xICAx/OdvtwXoq40PIHU3TvlImDU445V/nUe6JWjZnY0yqpDEcjTt48siLJRyR0/Asx0YSmT/WSUlYciELvm/krurYpyzLHNvdHooVcun5pdGlUHgQukeVcu4F0bVYOSN+YEtt+zlTs1qi6CF0i1fB+IXhVVg5I3/gQaZNgr0gOlKDoJVCD7POa+MJVCZF+PUQCVnP4TYOITS+ncNf5Hbh0xUIEUau6HGbi4dRliIQR2Q4CwwElb74qCUcACqdzO4KOiaExydhWBtY5p9UfRUaACsWtu8xZmWUwhisl2WU7y+DXFvtxvwm4rMIE0Vx8xkLo77IYkX5cSiOjKemACKYyVj2WDburScUlbIRMg4IaiaR0fctrg7uaVA/SwR9n1+X7jmNZrwu4yuG+QunsuM84MuyHJ17UE1jimNRB2d4EJxK6714AxL+yGJF/3EpiyrTZ16Yw5oT67HpxAqu4dIBzZveOSzsImwJx6SSnTvzjMvIEJJF9z7yZgJMxmJFd3E/DQmDtqzlwUZpcikDBpS66OCIhAOsInzt1OQATS7ROW/joiIALpCJ84dzsBEUi3T1j664iACKQjfOLc7QREIN0+YemvIwIikI7wiXO3ExCBdPuEpb+OCIhAOsInzt1OQATS7ROW/joiIALpCN+EnDcCzdVWaAk8b8WEPLvJ2DD2Abj5AqPZcXg0WgQSzs53L6d4Xmlablk46fTPkt9Q3o8a1FzcL/QHkiZCRwQyEVpt2DLj66WM9cE2XBPhkq+6VxHhJF2bFYEEO5nbHNM6OtgU8Y9u19zvA3irjp2IQIKbSr1BxsuiWr4yuLb8j7xPfXU+xd4DANL+R+8sogikM3679mbc6GSsdwcVvtvi2lX3OyBEspLh7liKQILa08j4jJMeOD+o8N0W166v/jTYO0+3vkQgAU0kCrABtRJKWF0X/Ytijsl45NagU53e7OWh7F1dkMReXzkFHl+mWysikKAmwrjSyVj/EVT4botrV90rQDhZt75EIIFNhBZvTY8ftIpmPhlYii4JPMgr95hc77kP4AN0a0kEEuBEmOjmUjp7XIApuiJ0vl65iZiP1bEZEUjAUyEPRxT7rLsCThPb8IUx93A2cKeuDYhAQpgMM1+UYr54ed/gqhDSxSLFrLFVgw2ijxDRx3UuWAQS3nQ2MbCMmB8C4+Hw0mqWifACJtqfgP0A7KlZdf9QjghE9wlJfZESEIFEil+S605ABKL7hKS+SAmIQCLFL8l1JyAC0X1CUl+kBEQgkeKX5LoTEIHoPiGpL1ICIpBI8Uty3QmIQHSfkNQXKQERSKT4JbnuBEQguk9I6ouUgAgkUvySXHcCIhDdJyT1RUpABBIpfkmuOwERiO4TkvoiJSACiRS/JNedgAhE9wlJfZESEIFEil+S605ABKL7hKS+4AkQtoKxmEAWg62dE4pAgscvGXQjQPgJebzYI1oMTv1fKdO/+JkS91v30NQtPXu9nEAvJ6aXe+R9fdScuSjMFpKx9OiziT49FBAvaYBHwwQeRC6inunU8ObAoOZib3F5B8pviIxLiumBm4Ng4lfM5AmEcZWTsbRbVtOvgdo192MAvuxXPN/jEB5moktKvVnt1v59rl6TJZCU8RZn2sAdvg9ds4D7bFyXTW3d5mpWFuDx/PHUXhc/mk7XtKttFwUlRyCMzzgZKzHvCLEfW/UGpIyfabMjEl3upLOnalOPYiFJEcgDU9zawUvnzNmqyKUrzAo192oGPqBBM991TOvtGtQx4RISIRBiXF3MWNq+vXXCU1N0KNRWncAwrlM0D8rsV+Anj3IyhfVBJQgybiIEgoS+QGfW45XZ3jgvCXIHahF7BY/zYaXp8X0nfVIEcqTTm/1RhDtKJKlnr13yvM2TzMcjSb49qTHPMQe+EV3+zjMnQiBE/MliOndh57jiFaEwVn41G3RvJFUTbnTS8X+zcDIEAtxQNK3jI9lRIkxq192TwbgighLWeA2MjO5tPRRBbl9TJkIgYGzyvMbrR/ee+Ttf6WkerFAt/5aJDgq9zAke8w2NuYcZ4INh0JsAzAboVjBudTLR/yxOhkB27CH3O6Z1YOg7S0QJIzzF+z3HtI5RbduuuweC8QsAU5/tw+BLthne/FW9M6uq8fy2S5JAmuy+6phW81aMrv4UquXjmGhBBE2u9+CNjJqDD6rmtmuVXwA8d5f2zH+CQfOdtLVQNaafdkkTSJPdgww+25s8+Q8r9ppe8RNmlLGad76Op6Ye4BGdREBUx1tnOKalfB9Yvu5+lhhfUuNGlxk9mL98anadmr0/VkkUyN/IMa9koqI/KKOLQowsaPtr1KL7EH7kpK0jVQuYNbbqYM+gRQBNVvUBsNQgmr88nb1lAj4dmSZbIB2hE+e/EiBs8RreyGjf4H2qVOy6+yMwjlC1/zs7oisb27acs2L6UOC/AEQgbU1InHYmwIzPlTLWuapU8rXKGQS+SNX+Oe0Iy+DhHCdj3dhRnBbOIpAg6SYhNtEvnHT2DaqtDtXW/rOB8V8+9czKNFWf3dkRcA153vygXustAvFjSgmOYYDmLjezyo/B2jX3ewE89VhkYH7JtG7wexQiEL+JJigeA18qmdZZqi3nq5VTifhSVfuJ29F1HnDOqJn17TFqEcjEpyAeAJj5txnTGr6faJsKkKEN7v5GA82fVjNU7Nu3oSVGD96xfGp2afsx/uYpAvGDYgJjkIEjir3WXaqt21X3RhDeqWrfiR0D/1syrZd1EuMZXxGIHxQTFoOYLypmcp9QbTtfL88jpmtU7f2wY+ITS+lcxzlFIH5MI0Exmn+dJ6cnDS+j6UrPmQzVKkMGuHkQv0+omDye7/TlvtBpThFIpwQT5k/A0UXTuk21bbtW/gZA71O198uO4L2vaA5+s9N4IpBOCSbIn0CXFs3saaot21X33SB8W9XeR7tR47GN+y/fd98tncYUgXRKMCH+xPgLtm4aKQ7MWqvS8tATaweM8fFF4EjuETvdMa2vqNTZykYE0oqQbN9OgAzjncXegZtUcdj1ymVgPkXV3je7Cd402SqvCKQVIdmO5u0cRdM6URWFXXePAeO7qvb+2fFWz0gNj/YOKN802Sq3CKQVIdleAmPEyViPqqAYqpXSBv6pedbqJSr2ftoQcFbRtBSfL1HLLAJR45RcK4/f7/TllBefs2vufwM4PWxgBPyyaFojfucVgfhNtLvifdsxrX9XbcmurjoSZESzODh5hzjpwZ+r1qpqJwJRJZU4O6og1Rhxpg0+rNL6UKk0xeidvAhEr1Kx99WGcJ6Tts70NebTwUQgQVDthpjsneJkBpXX1CrU3XOZEchO2gLnHzY/iRHXsjYFgT2pAtnYfL4ZoCXwvBVBgJ1QTIOaa0HNBnjOhPyCMib6rpPOKq/GXqivfj2z5/vPG5X2mI2jSpmBH6rYtmOTQIHQD2nb+OnFGTOXtwMsSJ9Z693DmPEVZrwwyDwtYteYUyM7vyuwVS2FmruIgeFWdn5vZ+CSkml9xO+4O8dLmkCOcUyr+USb1h97rPwFGHR2REVO6Cp0oVY5i8HnhF4rY2lPD4YfnmY9FmTu5AgkZm+Yytfcuwnw/bTlbncmxv84GevNqjtcYcOaV3Oj0XwIqkfVxy87Yn5nMZNTvrLfbt6kCCR2b5gaWr/6VYbn+XZFWGEHeZINGin1Zn+vYLvdJF917yLCYar2/tnxtY6ZC+XNWQkRCH3DMbPz/BtQOJHsqvtQaAvCMc50MtZ5qp0V6uVPMNMFqvY+2o0yMFIyrVBOriRCIAzv4yVzsHmFN1afQrV8OxMdFXzR/HPHzB2immdWvfwyj41FAP/DgtOqMdq1Y48/UOrLXduu/0T9EiEQD425o+ZM5aVpJgoxKPuwDtabZ6BKpvUr1T7ytfJtBPpXVXvf7AgLnLT1Lt/iKQRKhEAI+EjRtC5R4KGVSUBrSD2rRz7HMXPKZ8wKtfJpDIqC5bpUD4YfmWr9JcwhJUIgAH3TMbOhP/bZ6SDtWmU5wIVO4+zG/17nwWUjmDt3XCXHrLHKbC/FzYegpqvY+2lD4A8XzdzX/IypEishAsEGo4cO9mutJBWwndqEsRIIU+qwUrr/J6q12vXKAjAfp2rvlx2BflA0s+H/pGs+KOZXE8+OE8l5/N00Q4QfF9PW4UH163dcu16pgHnA77h/jUd0gZPOfko1fn7MPZEMfF3V3jc7xiYYGHbS1h99izmBQIkRSJMJeTii2Ke+2NkEOPpqGsLB+f1TtvWMLJ0x4wmVwvetr7AbPKl5kmOmir2vNhFf4E2UQJqDY+aLUswXB7UaeCc7R/PiIHne+UFfQffAbx01c7er1mrXKtcBfIKqvW92hJ85aetQ3+K1EShxAnma0SYGlhHzQ2AoPe/QBltlFyK8lEH7hXFRcKI3+OXXu+8hD76vmq4Cx0NjZNSc2byVJbJPUgUSGfCIEy/pSWFE9Qa/mesetSb19DR/Wu0bdt0M+mLJzH4+7LzPzicCiXoCIeYnj48r9uVuVk1p190rwDhZ1d4vOyb67R7l6sjSOXO2+hWz3TgikHbJxcyPGVeXMtZJqmXn65V/I+ZbVe39tCOD3lTszd7pZ8x2Y4lA2iUXJz+iotFojKiemBhcuTIz+XnNe63oxRG0+WXHtM6IIO9zphSB6DKJAOsg0AlFM3u9agq75jaX7fyoqr1/drzYw57Do6ZZ9y9mZ5FEIJ3x096bgBuKpnW8aqF2dfWbQV5gz3jvrg4menspnY1gRcZdVyUCUd1zYmjHzK6RmjRc7J2h9Pz9IK/cY3I91Tyt+orQ22Vc5WSs0E8ItOpTBNKKUIy3E+HkYtq6SrUFu+qeB8KnVe19syNa3jM+PvLw3jPLvsX0KZAIxCeQGoa51TGtd6jWZdfLh4Dpp6r2ftqRQe8t9ma/5WdMv2KJQPwiqVUcrlJParg4deDPSmUxk11f3XxC8HVK9j4aTfQYycfUSqFEIEqYYmf0Uce0Llat2q6Vz37qxu6O3+enmu+vdowKUj3DTu+MRybsG5KDCCQk0OGloR86Zlb5OXa76v4LCM3bSVLh1fh0JqZTnExWeXnT0OtL0vMgUcANPWfz2QlvfMTZ+/l/UM1t190fg/FGVXsf7b7nmNYxPsYLJJR8gwSCNaKgRJ920tn/Us1uV8ufAtH5qva+2TE2eOQNj5qDD/oWM6BAgQkknAUHAqISz7A/dUxL+ZvAXuceiJ7tP632Crtd9vgTpb7cRWHnbSdfcAKpuleAwr8TtB0IXeDjMWOklLHuUe2lUKvczmDlYxXVuK3smHBXKW0d0cpOl+3BCaRWORvg8M+M6EI21Dp4vmPmlFkXaqs/zPCUz3L51wqNE3sjxUzuXv9iBhspOIHU3ZPB0PoMRbBoQ4pO2Mrb+IDS9NwylYyF6qMv8qhnEQF9Kvb+2tDZjpkNfyX4DpoITCCFmns0A9q/aqADdlq4MvCtkmm9V7WYQrV8MxMpX2FXjatgd4+Tzg6DiBVstTEJTCB2deWLQanF2nTapYWQgSOKvWortRTq7knMUL43y09kTPzGUjoXya0snfQRmECaRdk1twRgqJMCxXe3BO5xTEvp9pBZ9TUFzxv/JYhyoTNlvsDJ5JTX4Aq9vt0kDFQghWr5a0z0IZ0a7qpaJnDdI19zrydA+bkQHzk9MGVbz7DqGlw+5vUlVKACsR9z34YUFvpSqQT5BwKqizDYdfdAMJSvrvuJmoCji6Z1m58xw4wVqEBesMHde7zBZYAmh9lUUnIR4cBi2rq/Vb/5qnsmEc5tZef3dgJdWjSzp/kdN8x4gQpkx3FI5QcAvyXMppKSa9L4hmnLpu//eKt+I1knmfAQb9k8Uuq317SqT+ftgQukMOYezga0WMJF50G0UVvZMa1BFb9I/kgZxrud3oEbVerT2SZwgWz/Folo2XydwXda21Pv6VtUMq25KnHsuvudp5ZYDfHNTHSdY2bfr1Kb7jahCCRfdV9LBOVXfOkOTYv6CPc7aetAlVrsunslGB9UsfXBZmWDjOEV6YHmKf7Yf0IRyI5jkfK1AHXFXxU9ps6POGbuBSq1FOqVC5n54yq2ndow4aRS2rq60zi6+IcmkHx1zQGExo9BCO6lMLpQDaMOxmonY2VVUtm1yucBnq9i24kNM99SyuSO7SSGbr6hCWT7t0jVfRcI39ENQkzr2eiY1vNUardr7scAfFnFtl0bIozBM0aKGcWFItpNFLJfqAJp9laorf4iw/tcyH12ZTonnU2ByGvVXL6++gPEXtA/ez7mmNZXW9USt+2hC2TH8YjbfCHLe+IGS7t6eUrayWTWt6qrUC0fx0QLWtm1v53ucMxsV17rikQgO0RSuQPgI9sfiniSx88v9uVWtiJhV1cdCTLuaGXX1nbCZiYaLvVmf9+Wv+ZOkQmkySXK13tpPhel8gyP5izvyy5tZZyvua8jIJBXmTHhs6W09Z+taojr9kgF0oQ2NLbqICNlXAfG/nGFGFXdnmEcNNo78LtW+feplV+aAj3Qyq6N7Xc7pvX6Nvxi4xK5QLaLZO3aAWPS+GUA3hYbcjoUSnyok879rFUphbUrZ/GklL+rFzJ+nTJS730k3e+0yh/n7VoI5BmA+dqq4wnG6QBeEmeoYdVOwNuKpvX9Vvnya5x+mjxldSu7CWxfCH5ynpMptDxBMIGYWppqJZAmIYvdPfeo0xkMbgolrSU1TYoieCcUzcGWb46yXHfPKXtgY0dlE5YRsJDAC5enc0H8XOuovKCctRPIM43OGqvM9gw+CYw3gPCioADEOS4zn1bK5C5V6cGuuWsBTFex3cmmQcwLPcNYWEpnb5mgb1eYayuQnek2b1OB4b2RwIdGtI6snsNmnOlkrPNUirNr7jUA5qnYAngAjFu98Z5vjs6Y4edPM8X0+pjFQiDPxpV/Yk0/tqIf3BiAgX4Q9VPDU7rtwnf0hrFjGRvP28Gy+e9n/v+Zfwe43elTWzBu1uOV2d44bgF4znMzoPUgLPAajetH+wbv851TTAPGUiAxZR152U+L5Pydn/BsLgVqeHx9MZO7KfICNSxABKLhUIIuaegxd8c1p8e3jI7m85uDzhfn+CKQOE9Pag+cgAgkcMSSIM4ERCBxnp7UHjgBEUjgiCVBnAmIQOI8Pak9cAIikMARS4I4ExCBxHl6UnvgBEQggSOWBHEmIAKJ8/Sk9sAJiEACRywJ4kxABBLn6UntgRMQgQSOWBLEmYAIJM7Tk9oDJyACCRyxJIgzARFInKcntQdO4P8BfUqGQVax+hMAAAAASUVORK5CYII=";const n={class:"auth-container"},d={class:"auth-content"},o={class:"auth-left"},u={class:"tech-features"},c={class:"feature"},v={class:"feature"},m={class:"feature"},g={class:"feature"},p={class:"auth-form"},A={class:"form-title"},f={class:"role-selector"},I={class:"tech-role-selector"},k={key:1,class:"password-requirements"},b={class:"card-header"},h={class:"login-options"},E={class:"switch-mode"};function Q(e,a,t,Q,L,S){const w=(0,s.g2)("Monitor"),F=(0,s.g2)("el-icon"),U=(0,s.g2)("DataLine"),O=(0,s.g2)("Connection"),X=(0,s.g2)("Magic"),C=(0,s.g2)("el-alert"),B=(0,s.g2)("User"),M=(0,s.g2)("Briefcase"),y=(0,s.g2)("Setting"),R=(0,s.g2)("Message"),V=(0,s.g2)("el-input"),Y=(0,s.g2)("el-form-item"),q=(0,s.g2)("Lock"),J=(0,s.g2)("InfoFilled"),T=(0,s.g2)("el-card"),K=(0,s.g2)("el-button"),j=(0,s.g2)("el-form");return(0,s.uX)(),(0,s.CE)("div",n,[a[21]||(a[21]=(0,s.Fv)('<div class="tech-bg" data-v-de8198a6></div><div class="tech-grid" data-v-de8198a6></div><div class="tech-circles" data-v-de8198a6><div class="circle circle-1" data-v-de8198a6></div><div class="circle circle-2" data-v-de8198a6></div><div class="circle circle-3" data-v-de8198a6></div></div>',3)),(0,s.Lk)("div",d,[(0,s.Lk)("div",o,[a[10]||(a[10]=(0,s.Lk)("div",{class:"tech-text"},[(0,s.Lk)("h1",null,"Empower your teaching journey with our AI-driven solution"),(0,s.Lk)("p",null,"Streamline your planning process and spark creativity")],-1)),(0,s.Lk)("div",u,[(0,s.Lk)("div",c,[(0,s.bF)(F,null,{default:(0,s.k6)((()=>[(0,s.bF)(w)])),_:1}),a[6]||(a[6]=(0,s.Lk)("span",null,"智能备课系统",-1))]),(0,s.Lk)("div",v,[(0,s.bF)(F,null,{default:(0,s.k6)((()=>[(0,s.bF)(U)])),_:1}),a[7]||(a[7]=(0,s.Lk)("span",null,"数据分析",-1))]),(0,s.Lk)("div",m,[(0,s.bF)(F,null,{default:(0,s.k6)((()=>[(0,s.bF)(O)])),_:1}),a[8]||(a[8]=(0,s.Lk)("span",null,"PPT讲解",-1))]),(0,s.Lk)("div",g,[(0,s.bF)(F,null,{default:(0,s.k6)((()=>[(0,s.bF)(X)])),_:1}),a[9]||(a[9]=(0,s.Lk)("span",null,"AI 辅助",-1))])]),a[11]||(a[11]=(0,s.Fv)('<div class="tech-stats" data-v-de8198a6><div class="stat-item" data-v-de8198a6><div class="stat-number" data-v-de8198a6>10K+</div><div class="stat-label" data-v-de8198a6>活跃用户</div></div><div class="stat-item" data-v-de8198a6><div class="stat-number" data-v-de8198a6>98%</div><div class="stat-label" data-v-de8198a6>满意度</div></div><div class="stat-item" data-v-de8198a6><div class="stat-number" data-v-de8198a6>24/7</div><div class="stat-label" data-v-de8198a6>技术支持</div></div></div>',1))]),(0,s.Lk)("div",p,[a[18]||(a[18]=(0,s.Lk)("div",{class:"glow-effect"},null,-1)),a[19]||(a[19]=(0,s.Lk)("div",{class:"tech-scanner"},null,-1)),a[20]||(a[20]=(0,s.Lk)("div",{class:"logo"},[(0,s.Lk)("img",{src:r,alt:"SmartPrep.ai"})],-1)),(0,s.Lk)("h2",A,(0,l.v_)(Q.isLogin?"Sign In":"Register"),1),Q.errorMsg?((0,s.uX)(),(0,s.Wv)(C,{key:0,title:Q.errorMsg,type:"error",closable:!1,"show-icon":"",class:"error-message"},null,8,["title"])):(0,s.Q3)("",!0),(0,s.Lk)("div",f,[a[15]||(a[15]=(0,s.Lk)("div",{class:"role-label"},"选择身份",-1)),(0,s.Lk)("div",I,[(0,s.Lk)("div",{class:(0,l.C4)(["role-option",{active:"student"===Q.role}]),onClick:a[0]||(a[0]=e=>Q.role="student")},[(0,s.bF)(F,null,{default:(0,s.k6)((()=>[(0,s.bF)(B)])),_:1}),a[12]||(a[12]=(0,s.Lk)("span",null,"学生",-1))],2),(0,s.Lk)("div",{class:(0,l.C4)(["role-option",{active:"teacher"===Q.role}]),onClick:a[1]||(a[1]=e=>Q.role="teacher")},[(0,s.bF)(F,null,{default:(0,s.k6)((()=>[(0,s.bF)(M)])),_:1}),a[13]||(a[13]=(0,s.Lk)("span",null,"老师",-1))],2),(0,s.Lk)("div",{class:(0,l.C4)(["role-option",{active:"admin"===Q.role}]),onClick:a[2]||(a[2]=e=>Q.role="admin")},[(0,s.bF)(F,null,{default:(0,s.k6)((()=>[(0,s.bF)(y)])),_:1}),a[14]||(a[14]=(0,s.Lk)("span",null,"管理员",-1))],2)])]),(0,s.bF)(j,{ref:"formRef",model:Q.form,rules:Q.rules,onSubmit:(0,i.D$)(Q.submitForm,["prevent"]),class:"login-form"},{default:(0,s.k6)((()=>["admin"===Q.role&&Q.isLogin?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(Y,{key:0,prop:"email",class:"tech-form-item"},{default:(0,s.k6)((()=>[(0,s.bF)(V,{modelValue:Q.form.email,"onUpdate:modelValue":a[3]||(a[3]=e=>Q.form.email=e),type:"email",placeholder:"name@example.com",disabled:"admin"===Q.role&&Q.isLogin,class:"tech-input"},{prefix:(0,s.k6)((()=>[(0,s.bF)(F,null,{default:(0,s.k6)((()=>[(0,s.bF)(R)])),_:1})])),_:1},8,["modelValue","disabled"])])),_:1})),(0,s.bF)(Y,{prop:"password",class:"tech-form-item"},{default:(0,s.k6)((()=>[(0,s.bF)(V,{modelValue:Q.form.password,"onUpdate:modelValue":a[4]||(a[4]=e=>Q.form.password=e),type:Q.showPassword?"text":"password",placeholder:"********","show-password":"",class:"tech-input"},{prefix:(0,s.k6)((()=>[(0,s.bF)(F,null,{default:(0,s.k6)((()=>[(0,s.bF)(q)])),_:1})])),_:1},8,["modelValue","type"])])),_:1}),Q.isLogin||"admin"===Q.role?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",k,[(0,s.bF)(T,{shadow:"never",class:"tech-card"},{header:(0,s.k6)((()=>[(0,s.Lk)("div",b,[a[16]||(a[16]=(0,s.Lk)("span",null,"密码要求",-1)),(0,s.bF)(F,null,{default:(0,s.k6)((()=>[(0,s.bF)(J)])),_:1})])])),default:(0,s.k6)((()=>[a[17]||(a[17]=(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,"至少8个字符"),(0,s.Lk)("li",null,"包含大、小写字母"),(0,s.Lk)("li",null,"包含数字")],-1))])),_:1})])),(0,s.bF)(K,{type:"primary","native-type":"submit",loading:Q.isSubmitting,class:"submit-btn glow-btn"},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)(Q.isSubmitting?"处理中...":Q.isLogin?"登录":"注册"),1)])),_:1},8,["loading"]),(0,s.Lk)("div",h,[(0,s.Lk)("div",E,[(0,s.Lk)("span",{onClick:a[5]||(a[5]=(...e)=>Q.toggleMode&&Q.toggleMode(...e))},(0,l.v_)(Q.isLogin?"注册账号":"返回登录"),1)])])])),_:1},8,["model","rules","onSubmit"])])])])}t(44114);var L=t(90144),S=t(81387),w=t(2636),F=t(57477),U={name:"AuthPage",components:{Monitor:F.Monitor,DataLine:F.DataLine,Connection:F.Connection,Magic:F.Magic,Message:F.Message,Lock:F.Lock,InfoFilled:F.InfoFilled,User:F.User,Briefcase:F.Briefcase,Setting:F.Setting},setup(){const e=(0,S.rd)(),a=(0,L.KR)(null),t=(0,L.KR)(!0),l=(0,L.KR)("student"),i=(0,L.KR)(""),r=(0,L.KR)(!1),n=(0,L.KR)(!1),d=(0,L.Kh)({email:"",password:""}),o=[{label:"学生",value:"student"},{label:"老师",value:"teacher"},{label:"管理员",value:"admin"}],u={email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,message:"密码长度不能小于8位",trigger:"blur"}]};(0,s.sV)((()=>{const a=localStorage.getItem("user");if(a)try{const t=JSON.parse(a);"student"===t.role?e.push("/image-process"):"teacher"===t.role?e.push("/main"):"admin"===t.role&&e.push("/admin-dashboard")}catch(t){console.error("解析用户数据失败:",t),localStorage.removeItem("user")}fetch("http://localhost:2200/auth/api/test").then((e=>e.json())).then((e=>{console.log("API测试结果:",e)})).catch((e=>{console.error("API测试失败:",e),i.value="无法连接到服务器，请确保后端服务已启动"}))})),(0,s.wB)(l,(e=>{"admin"===e&&t.value?(d.email="admin",d.password="admin"):"admin"!==e&&("admin"===d.email&&(d.email=""),"admin"===d.password&&(d.password=""))}));const c=()=>{t.value=!t.value,d.email="",d.password="",i.value="",t.value&&"admin"===l.value&&(d.email="admin",d.password="admin")},v=async()=>{a.value&&await a.value.validate((async a=>{if(a)try{if(i.value="",r.value=!0,"admin"===l.value&&t.value&&(d.email="admin",d.password="admin"),t.value){console.log("尝试登录:",{email:d.email,password:d.password,role:l.value});const a=await(0,w.Lx)(d.email,d.password,l.value);console.log("登录响应:",a.data),a.data.success?(localStorage.setItem("user",JSON.stringify(a.data.user)),"student"===l.value?e.push("/image-process"):"teacher"===l.value?e.push("/main"):"admin"===l.value?e.push("/admin-dashboard"):e.push("/main")):i.value=a.data.message||"登录失败，请检查账号和密码"}else{if("admin"===l.value)return i.value="管理员账号不允许注册",void(r.value=!1);if(d.password.length<8||!/[A-Z]/.test(d.password)||!/[a-z]/.test(d.password)||!/[0-9]/.test(d.password))return i.value="密码必须包含大小写字母和数字，且长度至少为8位",void(r.value=!1);console.log("尝试注册:",{email:d.email,password:d.password,role:l.value});const e=await(0,w.DY)(d.email,d.password,l.value);console.log("注册响应:",e.data),e.data.success?(alert("注册成功，请登录"),t.value=!0,d.email="",d.password=""):i.value=e.data.message||"注册失败，请重试"}}catch(s){console.error("操作错误:",s),i.value=s.response?.data?.message||"操作失败，请检查网络连接并重试"}finally{r.value=!1}}))};return{formRef:a,form:d,rules:u,isLogin:t,email:d.email,password:d.password,role:l,roles:o,showPassword:n,errorMsg:i,isSubmitting:r,toggleMode:c,submitForm:v}}},O=t(71241);const X=(0,O.A)(U,[["render",Q],["__scopeId","data-v-de8198a6"]]);var C=X}}]);
//# sourceMappingURL=852.6585869e.js.map