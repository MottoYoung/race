"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[648],{97648:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var r=a(56768),l=a(24232);const o={class:"chart-container"},s={class:"user-activity-wrapper"},n={class:"activity-header"},i={class:"stats-cards"},c={class:"stats-content"},u={class:"stats-label"},d={class:"stats-value"},v={class:"filter-buttons"},p=["onClick"],b={class:"chart-area",ref:"chartContainer"},g={class:"user-distribution"},h={class:"user-type"},f={class:"user-info"},y={class:"user-name"},k={class:"user-count"},m={class:"distribution-bar"},L={class:"progress-track"},w={class:"percentage-text"};function S(e,t,a,S,C,x){return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("div",s,[(0,r.Lk)("div",n,[(0,r.Lk)("div",i,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(S.statsItems,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"stats-card",key:t},[(0,r.Lk)("div",{class:"stats-icon",style:(0,l.Tr)({backgroundColor:e.color})},[(0,r.Lk)("i",{class:(0,l.C4)(e.icon)},null,2)],4),(0,r.Lk)("div",c,[(0,r.Lk)("div",u,(0,l.v_)(e.label),1),(0,r.Lk)("div",d,(0,l.v_)(e.value),1)])])))),128))]),(0,r.Lk)("div",v,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(S.timeFilters,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:(0,l.C4)(["filter-btn",{active:S.currentFilter===e.value}]),onClick:t=>S.setTimeFilter(e.value)},(0,l.v_)(e.label),11,p)))),128))])]),(0,r.Lk)("div",b,null,512),(0,r.Lk)("div",g,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(S.userDistribution,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"distribution-item",key:t},[(0,r.Lk)("div",h,[(0,r.Lk)("div",{class:"user-icon",style:(0,l.Tr)({backgroundColor:e.color})},[(0,r.Lk)("i",{class:(0,l.C4)(e.icon)},null,2)],4),(0,r.Lk)("div",f,[(0,r.Lk)("div",y,(0,l.v_)(e.name),1),(0,r.Lk)("div",k,(0,l.v_)(e.count),1)])]),(0,r.Lk)("div",m,[(0,r.Lk)("div",L,[(0,r.Lk)("div",{class:"progress-fill",style:(0,l.Tr)({width:`${e.percentage}%`,background:e.color})},null,4),(0,r.Lk)("div",w,(0,l.v_)(e.percentage)+"%",1)])])])))),128))])])])}a(44114),a(18111),a(7588);var C=a(90144),x=a(82032),I={name:"UserActivityChart",setup(){const e=(0,C.KR)(null);let t=null;const a=(0,C.KR)("3,256"),l=(0,C.KR)("1,485"),o=(0,C.KR)("4,879"),s=(0,r.EW)((()=>[{label:"总用户数",value:a.value,color:"#36d1dc",icon:"el-icon-user"},{label:"今日活跃用户",value:l.value,color:"#5b86e5",icon:"el-icon-data-board"},{label:"今日登录次数",value:o.value,color:"#8884ff",icon:"el-icon-monitor"}])),n=[{label:"今日",value:"today"},{label:"本周",value:"week"},{label:"本月",value:"month"}],i=(0,C.KR)("today"),c=(0,C.Kh)([{name:"教师用户",count:"756",percentage:35,color:"#36d1dc",icon:"el-icon-user"},{name:"学生用户",count:"2,350",percentage:65,color:"#5b86e5",icon:"el-icon-user"}]),u=e=>{i.value=e,d(e)},d=e=>{if(!t)return;let a,r,l;switch(e){case"today":a=v(),r=g(30,.5),l=g(60,.6);break;case"week":a=p(),r=g(200,.4),l=g(350,.5);break;case"month":a=b(),r=g(150,.6),l=g(320,.5);break}t.setOption({xAxis:{data:a},series:[{name:"教师活跃度",data:r},{name:"学生活跃度",data:l}]})},v=()=>{const e=[],t=new Date,a=t.getHours();for(let r=0;r<24;r++){const t=(a-23+r+24)%24;e.push(`${t}:00`)}return e},p=()=>{const e=[],t=["周日","周一","周二","周三","周四","周五","周六"],a=new Date,r=a.getDay();for(let l=6;l>=0;l--){const a=(r-l+7)%7;e.push(t[a])}return e},b=()=>{const e=[],t=new Date,a=t.getDate();for(let r=29;r>=0;r--){const t=new Date;t.setDate(a-r),e.push(`${t.getMonth()+1}/${t.getDate()}`)}return e},g=(e,t)=>{const a=[],r="today"===i.value?24:"week"===i.value?7:30;for(let l=0;l<r;l++){let r=1;if("today"===i.value){const e=((new Date).getHours()-23+l+24)%24;e>=8&&e<=21?(r=1.5,(e>=9&&e<=11||e>=14&&e<=16||e>=19&&e<=21)&&(r=2.5)):r=.3}else if("week"===i.value){const e=((new Date).getDay()-6+l+7)%7;r=e>=1&&e<=5?1.5:.8}const o=.7+Math.random()*t,s=Math.round(e*r*o);a.push(s)}return a},h=()=>{if(!e.value)return;t=x.Ts(e.value);const r=v(),s=g(30,.5),n=g(60,.6),u={tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:"rgba(91, 134, 229, 0.3)",width:1,type:"solid"}}},legend:{data:["教师活跃度","学生活跃度"],right:0,top:0,textStyle:{color:"#fff"},itemWidth:10,itemHeight:10,icon:"circle"},grid:{left:"3%",right:"4%",bottom:"3%",top:"50px",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:r,axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},axisLabel:{color:"rgba(255, 255, 255, 0.7)",fontSize:10},axisTick:{show:!1}},yAxis:{type:"value",name:"活跃人数",nameTextStyle:{color:"rgba(255, 255, 255, 0.7)",padding:[0,30,0,0]},axisLine:{show:!1},axisLabel:{color:"rgba(255, 255, 255, 0.7)"},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}}},series:[{name:"教师活跃度",type:"line",stack:"Total",smooth:!0,symbol:"circle",symbolSize:6,showSymbol:!1,lineStyle:{width:3,color:"#36d1dc"},areaStyle:{color:new x.fA.W4(0,0,0,1,[{offset:0,color:"rgba(54, 209, 220, 0.3)"},{offset:1,color:"rgba(54, 209, 220, 0.05)"}])},itemStyle:{color:"#36d1dc",borderColor:"#fff",borderWidth:1},emphasis:{focus:"series",itemStyle:{borderWidth:2}},data:s},{name:"学生活跃度",type:"line",stack:"Total",smooth:!0,symbol:"circle",symbolSize:6,showSymbol:!1,lineStyle:{width:3,color:"#5b86e5"},areaStyle:{color:new x.fA.W4(0,0,0,1,[{offset:0,color:"rgba(91, 134, 229, 0.3)"},{offset:1,color:"rgba(91, 134, 229, 0.05)"}])},itemStyle:{color:"#5b86e5",borderColor:"#fff",borderWidth:1},emphasis:{focus:"series",itemStyle:{borderWidth:2}},data:n}]};t.setOption(u);const p=()=>{a.value=(parseInt(a.value.replace(/,/g,""))+Math.floor(10*Math.random())).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),l.value=(parseInt(l.value.replace(/,/g,""))+Math.floor(30*Math.random())-15).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),o.value=(parseInt(o.value.replace(/,/g,""))+Math.floor(50*Math.random())).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),c.forEach((e=>{e.count=(parseInt(e.count.replace(/,/g,""))+Math.floor(10*Math.random())-5).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}));const e=parseInt(c[0].count.replace(/,/g,"")),t=parseInt(c[1].count.replace(/,/g,"")),r=e+t;c[0].percentage=Math.round(e/r*100),c[1].percentage=100-c[0].percentage,d(i.value)},b=setInterval(p,1e4);return()=>{clearInterval(b)}},f=()=>{t&&t.resize()};return(0,r.sV)((()=>{const e=h();window.addEventListener("resize",f),(0,r.hi)((()=>{e&&e(),window.removeEventListener("resize",f),t&&t.dispose(),t=null}))})),{chartContainer:e,totalUsers:a,activeUsers:l,totalLogins:o,statsItems:s,timeFilters:n,currentFilter:i,userDistribution:c,setTimeFilter:u}}},D=a(71241);const M=(0,D.A)(I,[["render",S],["__scopeId","data-v-425ca688"]]);var E=M}}]);
//# sourceMappingURL=648.cb2216ed.js.map